This is the beggining of my updated game engine.

2025

25 jan
-Created project SandCastle.

July

18

-Decided to copy dependencies into the project (no submodules).
-build folders
-added distrib config
-decided to keep include the same way it was.

24

-built all the dependencies
-progress on migration
-progress on build config (done ?)

26

-progress on migration to sdl3 entt latest

27

-rebuilt imgui to include sdl3
-addressed some warnings.
-created Test project
-completed build!
-fixed linking problems (project references...)
-fixed (?)  ENTT_ASSERT (still need to test in case of real failure)
-created a window with no bugs!
-decided to keep singleton (bc the only point I see is to avoid user doing shit before he calls Engine::Init)


28

-.gitignore
-first commit/push!
-draw sprite test success.
-removed useless defines
-imgui no longer available in distrib
-camera default constructor updated to match comon use case
-systems have its own default camera
-systems init
-have a camera by default in the init
-entity create for easily created animated sprite or sprite
-tested entity create

29

-removed pch.h in Files.h
-renamed "Add..Input" to "Bind..Input"
-input test
-begginer friendly tests
-renamed header
-rotations and vector directions are now coherent
-removed time operator % / * cause they make no sense for duration and * was making a recursive call
-created Geometry namespace and moved the approriate funciton there

30

-Entt assertion break and logging correctly
-Test distrib build without console (this involved changing linker advanced settings to configure the entry point )
-Improved serialized error message
-moved input system
-changed order of glBindFrameBuffer and glViewport bc apparently there was a mistake
-find out pixel/point size is the same regardless of windows scaling factor (at least on my machine)
-fire only one resize signal when pixel size change (not when only window size change, but they always trigger both)
-couldn't figure what the point size could be used for
-therefore using only the pixel size for everything.
-window event test
-Gamepad, mouse, key namespace

01

-Serialized: HadGetError, HadParseError, IsNull, (currently HadGetError is merged with HadParseError)
-Serialized: GetObjArray
-Serialized: "ResetGetError()"
-Serialized: bool TryGet

02

-Progress on improving the renderer
-checked if we can offload matrice computation to gpu
(I think we cannot because of transform parenting)

03

-deleted copy constructor for Asset
-raw pointer in asset
-simplifed MakeAsset
-Asset::Get now gives a raw pointer
-replaced many shared ptr by raw pointer where better suited
-improved const correctness
-removed useless Draw method to simplify Renderer2D

04

-decided we don't touch line and wires but we ackowledge that
they should not be used because of sorting issue
-making QuadRenderData (that's the objects of the double buffer)

05

-progress on instanced rendering

06

-instanced rendering
-refacto of the renderer.
non exhaustive list:
(-QuadRenderData
-texture as ID
-removed render options for individual quad/sprite)
-gave up on instancing, it's actually shit.
-benchmark against sandbox: same fps, shifted load on GPU which is great (at least on my config)
120fps= 0.008s total, gpu time (buffer data + draw call)= 0.0016s vs 0.0012s on sandbox
-materials!

07

-I managed to draw from the thread!
-Worker thread improvement: Wait method

>blinking at low frame rame: the same buffer getting filled twice if cpu cycle is faster than
>layer sorting
>thread wait without infinite loop
>try a simple thread to join and launch every frame ?
>try matrice computation cpu side
>clean code
>imgui inside the render thread

>benchmark to compare thread and no thread
>benchmark with and without colors
>consider get rid of sprite origin
>layer sorting
>per layer z sorting (enabled/disabled)
>double buffered drawing data
>Material

thread:

>copy all into double buffer (OnRender)
>wait launch render thread
>getbatchid must buffer the quad batch creation
>check for other concurrency problem
>draw and that's it motherfucker

>simplify creation of task (void return only ?)
>add render option to material
>unparenting a child while iterating the parent children lead to a crash (see AssetTests.cpp in Sandbox)
>migrate box2D 3
>include GUI stuff (translate UI position to game world and so forth)
>improve redering (see redering section)
>text input (SDL_StartTextInput...)
>Implement LoveAudio from idle colony as a default audio system
>audio spacialization
>Implement steamworks from idle colony
>Implement a default GameSystem class inspired from the pattern in IdleColony
>Complete UI system
>Particle system
>Transform animation system
  
>m_listeners (signalsender) shouldn't be a multi set but a set, to not allow multiple time listening with the same callabck;


Redering:

>multi pass rendering for layers instead of the current system (one component can be used as the layer struct Layer1 struct Layer2...)
>materials
>make new attempt at threaded rendering

for multi threaded rendering, try copying all the components needed for rendering.

Thoughts:

>Serialized, Get error must propagate to all parents?
>Transform rotation should loop at 360/-360? Because we could potentially break the float limit.
But I'm not happy with the additional processing required, so I'm letting the user do that if they want.

UI:

>start by managing fonts (create texture, or set of textures, for font in one size)
>